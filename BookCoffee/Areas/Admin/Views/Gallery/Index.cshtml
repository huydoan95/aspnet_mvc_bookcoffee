@model PagedList.IPagedList<Models.EF.ImageGallery>
@using PagedList.Mvc

@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/Admin/Views/Shared/_Layouts.cshtml";
}
@section header{
}

@section scriptNest{

    <script src="~/Assets/Galleries/Scripts/jquery.mousewheel-3.0.6.pack.js"></script>
    <script src="~/Assets/Galleries/Scripts/jquery.fancybox.js?v=2.1.3"></script>
    <link href="~/Assets/Galleries/Content/jquery.fancybox.css?v=2.1.2" rel="stylesheet" media="screen" />
    <link href="~/Assets/Galleries/Scripts/jquery.fancybox.css" rel="stylesheet" />

    <link href="~/Assets/Admin/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- MetisMenu CSS -->
    <link href="~/Assets/Admin/vendor/metisMenu/metisMenu.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="~/Assets/Admin/dist/css/sb-admin-2.css" rel="stylesheet">
    <!-- Custom Fonts -->
    <link href="~/Assets/Admin/vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- Bootstrap Core JavaScript -->
   <script src="~/Assets/Admin/vendor/bootstrap/js/bootstrap.min.js"></script>
<!-- Metis Menu Plugin JavaScript -->
<script src="~/Assets/Admin/vendor/metisMenu/metisMenu.min.js"></script>


    <style type="text/css">
        .imgBox {
            width: 200px;
            height: 200px;
            opacity: 1.0;
            filter: alpha(opacity=100);
        }

            .imgBox:hover {
                -moz-box-shadow: 0 0 10px #ccc;
                -webkit-box-shadow: 0 0 10px #ccc;
                box-shadow: 0 0 10px #ccc;
                opacity: 0.4;
                filter: alpha(opacity=40);
            }
    </style>

    <script>
        $(document).ready(function () {
            $("#ShowImage").fancybox({
                helpers:
                {
                    title:
                    {
                        type: 'float'
                    }
                }
            });

            $('.imageGallery').fancybox({
                fitToView: false,
                width: '600px',
                height: '400px',
                autoSize: false,
                closeClick: false,
                openEffect: 'none',
                closeEffect: 'none',
                padding: 0,
                closeBtn: false,
                'afterClose': function () {
                    window.location.reload();
                },
            });

        });
    </script>
}
<div style="height: auto;">
    <div style="border-bottom: 1px solid Red;margin-top:5px;margin-bottom:5px;"></div>
    <p>
        <a class="imageGallery btn btn-primary" data-fancybox-type="iframe" href="@Url.Action("UploadImage","Gallery")">
            Upload New Image
        </a>
    </p>
    <div style="border-bottom: 1px solid Red;"></div>
    <div class="row-fluid">
        <div class="span2">
            <div class="item">
                @foreach (var image in Model)
                {
                <div style="margin:10px; float:left; height:200px; overflow:hidden; width:200px;">
                    <a id="ShowImage" class="fancybox-button" data-rel="fancybox-button"
                       title="Không gian quán" href="@image.ImagePath">
                        <div class="zoom">
                            <img src="@image.ImagePath" class="imgBox" />
                            <div class="zoom-icon"></div>
                        </div>
                    </a>

                </div>
                }
            </div>
        </div>
    </div>
    <div style="clear:both;border-top:1px solid Red;"></div>
    @Html.PagedListPager(Model, page => Url.Action("Index", new { page }))
</div>

